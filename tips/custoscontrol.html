<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!--
  Gregorio web site.
  Copyright (C) 2007-2015 The Gregorio project

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
  <title>Gregorio project website</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="description" content="Free software for typesetting Gregorian chant" lang="en">
  <meta name="keywords" content="Gregorian chant, gregorio, gabc, gregoriotex" lang="en">
  <meta name="author" content="The Gregorio project">
  <link rel="shortcut icon" href="../illus/fav.ico">
  <link rel="icon" href="../illus/fav.ico">
  <link rel="stylesheet" href="../style.css" type="text/css" title="default">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script type="text/javascript" src="../gregorio-menu.js"></script>
  <script>
    var context = 'gregorio';
    var title = 'Gregorio project website'
  </script>
</head>

<body>
  <div id="ban">
    <img src="../illus/harpedroite.png" title="" class="hd" alt="" />
    <a id="haut" name="haut"></a>
    <div id="banniere">
    </div>
  </div>
  <script>write_gre_menu();</script>
  <div class="flux">
    &nbsp;
    <!-- IE patch-->
    <div class="text">
      <!-- End of header -->
<!-- header -->
<script>
    context = 'tipsntricks';
    title = 'Custos Control';
</script>

<h1>Custos Control</h1>

<p>Gregorio comes with a whole bunch of settings for controlling the appearence of the automatic custos out of the box.  <code>\greseteolcustos{auto}</code> and <code>\greseteolcustos{manual}</code> allow you to turn on and off the automatic custos from that point in the document on.  <code>z+</code> and <code>Z+</code> allow you to force an automatic custos at a manual line break in the gabc, while <code>z-</code> and <code>Z-</code> do the opposite, suppressing the automatic custos at the manual line break.  Sometimes, however, you want to suppress or force the automatic custos for the automatic line breaks, or may want to change the behavior for an extended passage all at once, rather than doing it manually.</p>

<p>The first step to getting this trick to work is to add the following to your gabc file:</p>

<div class="codeblock">
<code>def-m1: \greusemanualcustos;</br>
def-m2: \greuseautocustos;</code>
</div>

<p>You'll also need the following in the preamble of your project file:</p>

<div class="codeblock">
<code>\makeatletter</br>
\let\greusemanualcustos\gre@usemanualcustos</br>
\let\greuseautocustos\gre@useautocustos</br>
\makeatother</code>
</div>

<p>With these two macro definitions you can add <code>[em1]</code> in the notes of your gabc file to suppress the automatic custos from that point forward in the score and <code>[em2]</code> to have the automatic custos appear from that point forward.  This will hold for both automatic line breaks and manual ones (though <code>+</code> and <code>-</code> will override if they are given).  To minimize spacing issues, these tags should be placed at the end of the sequence of notes, just before you close the parentheses, and should not be placed adjacent to a bar line.</p>


<h5>Works with Version:</h5>

<p>4.1.0 and above</p>


<!-- footer -->
    </div>
    <div class="bottom">
    </div>
    <script>initialize_menu();</script>
  </body>
</html>
