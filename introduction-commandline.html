<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!--
  Gregorio web site.
  Copyright (C) 2007-2015 The Gregorio project

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
  <title>Gregorio project website</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="description" content="Free software for typesetting Gregorian chant" lang="en">
  <meta name="keywords" content="Gregorian chant, gregorio, gabc, gregoriotex" lang="en">
  <meta name="author" content="The Gregorio project">
  <link rel="shortcut icon" href="/illus/fav.ico">
  <link rel="icon" href="/illus/fav.ico">
  <link rel="stylesheet" href="/style.css" type="text/css" title="default">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script>
    var context = 'gregorio';
    var title = 'Gregorio project website'
  </script>
</head>

<body>
  <div id="ban">
    <img src="/illus/harpedroite.png" title="" class="hd" alt="" />
    <a id="haut" name="haut"></a>
    <div id="banniere">
    </div>
  </div>
  <div class="menu">
    <ul class="menuitem">
      <li><a href="/">Gregorio</a>
        <ul class="level2" id="menu-gregorio">
          <li><a href="/gregorio-history.html">About</a> </li>
          <li><a href="https://github.com/gregorio-project/gregorio/releases">Download</a> </li>
          <li><a href="/installation.html">Installation</a> </li>
          <li><a href="/tutorial/index.html">gabc Tutorial</a></li>
          <li><a href="/introduction.html">GregorioTeX Tutorial</a></li>
          <li><a href="/technical-aspects.html">For developers</a></li>
          <li><a href="legalissues.html">Legal issues</a></li>
        </ul>
      </li>
      <li><a href="/gregoriotex/index.html">GregorioTeX</a>
        <ul class="level2" id="menu-gregoriotex">
          <li><a href="/gregoriotex/tex.html">TeX?</a></li>
          <li><a href="/gregoriotex/details.html">Detailed description</a></li>
          <li><a href="/gregoriotex/features.html">Extra features</a></li>
          <li><a href="/gregoriotex/introduction.html">Tutorial</a></li>
        </ul>
      </li>
      <li><a href="/gabc/index.html">gabc</a>
        <ul class="level2" id="menu-gabc">
          <li><a href="/gabc/index.html">Basics</a></li>
          <li><a href="/gabc/details.html">Details</a></li>
          <li><a href="/tutorial/index.html">Tutorial</a></li>
        </ul>
      </li>
      <li><a href="/structure.html">Gregorian notation</a>
        <ul class="level2" id="menu-notation">
          <li><a href="/structure.html">Structure</a></li>
          <li><a href="/graphy.html">Alignment</a></li>
          <li><a href="/examples.html">Scores</a></li>
        </ul>
      </li>
      <li><a href="/contact.html">Contact</a>
      </li>
      <li><a href="/links.html">Links</a>
      </li>
    </ul>
  </div>
  <div class="flux">
    &nbsp;
    <!-- IE patch-->
    <div class="text">
      <!-- End of header -->
<!-- header -->
<script>
    context = 'gregorio';
    title = 'Using Gregorio';
</script>

<h1>Using Gregorio in a terminal</h1>

<p>This page is an introduction to working with gregorio from the command line. If you are not familiar with TeX at all, refer to the <a href="/gregoriotex/tex.html">page on TeX</a>.</p>

<p>Overall, producing a score involves these steps:</p>

<ul>
<li>writing a gabc text file that describes the score.  This can be done in any text editor (for example, TeXworks, gedit, notepad++)</li>
<li>compiling a LaTeX file including the score</li>
</ul>

<p>If you have a relatively good computer background including LaTeX, you can skip directly to the summary of commands at the end of this page, as what follows here is addressed principally to LaTeX and computer beginners.</p>

<h3>Creating a gabc file</h3>

<p>For a first example, you might look at the <code>PopulusSion.gabc</code> score, which can be found in the <code>examples/</code> directory under gregorio (in Windows, this is where you chose to install gregorio).</p>

<p>In a text editor (like TeXworks, not a document editor like Microsoft Word), you will need to type the score in gabc notation.  For more details on gabc notation, refer to the gabc pages.  To see a full example quickly, refer to the end of the <a href="/gabc/details.html">detailed gabc description page</a>.</p>

<p>Once you have created your gabc file in a text editor, save it in a directory that will be convenient for you. This file must have the extension <code>.gabc </code>. In TeXworks, you can select the proper .gabc extension from the list of possibilities.</p>

<p><strong>Warning!</strong> The file must be in UTF-8, it is absolutely mandatory! Otherwise Gregorio will have random behaviour when it comes to the accents! Every modern text editor has this option (it is the default in TeXworks).</p>

<p>In the following, we will assume that the file is named <code>example.gabc</code>.</p>

<h3>Compiling the gabc into TeX code (optional)</h3>

<p>Starting with version 3.0.0, this step can be skipped, as gregorio will be called directly by LaTeX. The following instructions are left for users with a technical background.</p>

<p>Once you have saved your gabc file, you can run the gregorio program to produce  GregorioTeX code based on it.</p>

<p>Open a terminal window, go to the directory containing your gabc file, and simply type:</p>

<div class="commandline">
<code>gregorio example.gabc</code>
</div>

<p>Based on <code>example.gabc</code>, that will produce the file <code>example.tex</code>, which contains the GregorioTeX code corresponding to the gabc file, that we will include in our main document.</p>

<h3>Compiling the main TeX file</h3>

<p>The last step is to incorporate the score into a LaTeX document and compile that to make a PDF file. We will use LuaLaTeX to do this. So we must first explain a little bit about LaTeX documents.</p>

<p>Now you need a LaTeX file representing your document (booklet, simple score with a title, etc.). This file will contain a command to "include" the score, <code>example.tex</code>, in the proper place.</p>

<p>For the case of a simple page, you can use the example that comes with Gregorio (<a href="https://github.com/gregorio-project/gregorio/blob/master/examples/main-lualatex.tex">accessible through github</a>). Save this file in the same directory as <code>example.gabc</code>, and call it <code>main.tex</code>. Open it with a text editor. You will have to change one line:  where the file contains the code</p>

<div class="commandline">
<code>\includescore[a]{PopulusSion}</code>
</div>

<p class="nofirst">change it to use our produced file:</p>

<div class="commandline">
<code>\includescore[a]{example}</code>
</div>

<p>This is the code that will invoke our TeX code, which we produced in the previous step. Our goal now will be to compile <code>main.tex</code>, which will produce <code>main.pdf</code>, containing the score.</p>

<p>To do this, just type the following in a terminal window:</p>

<div class="commandline">
<code>lualatex --shell-escape main.tex</code>
</div>

<p>Now you have a file <code>main.pdf</code> in the same directory as your .tex files, and this contains your score!  You can display it with Adobe Reader or any other program you normally use with PDF documents.</p>

<p>If that was your first experience with a TeX system, you may be discouraged and telling yourself that this is all too complicated for you.  Rest assured that it is not at all so!  Be brave and make some scores by yourself; you will confirm that in the end it is very simple, and the result is worth the trouble involved!</p>

<p>While gregorio and LaTeX can position the neumes of your score automatically, to achieve the best results, you will sometimes find that a manual change in a score is helpful. For example, for spacing it is sometimes preferable to indicate line breaks manually.   To accomplish that, you can modify your gabc file and recompile it to make a more customized TeX file for the score.  For characters that gabc cannot generate, you can even insert TeX code directly into your gabc file, thanks to the <code>&lt;v&gt;</code> tags.</p>

<p>In short, gregorio offers a relatively easy system, and except for strange and unexpected cases, you will be able to get along by merely modifying the gabc file.</p>

<p>If you ever need to modify a GregorioTeX file, or if you are simply curious about its contents, refer to the page giving the structure of a GregorioTeX file.</p>

<a name="Summary"></a>
<h2>Summary</h2>

<p>To compile <code>example.gabc</code> into <code>example.tex</code> (optional):</p>

<div class="commandline">
<code>gregorio example.gabc</code>
</div>

<p>Then incorporate the corresponding score <code>example.tex</code> into a TeX wrapper file, <code>main.tex</code>, which contains the command <code>\includescore[a]{example}</code>. To compile <code>main.tex</code> into <code>main.pdf</code>:</p>

<div class="commandline">
<code>lualatex --shell-escape main.tex</code>
</div>

<!-- footer -->
    </div>
    <div class="bottom">
    </div>
    <script>
      document.title = title;
      $.each(['gregorio', 'gregoriotex', 'gabc', 'notation'], function(i, menu) {
        if (context != menu) {
          $('#menu-'+menu).hide();
        }
      });
    </script>
  </body>
</html>
