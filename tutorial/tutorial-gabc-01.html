<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!--
  Gregorio web site.
  Copyright (C) 2007-2015 The Gregorio project

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
  <title>Gregorio project website</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="description" content="Free software for typesetting Gregorian chant" lang="en">
  <meta name="keywords" content="Gregorian chant, gregorio, gabc, gregoriotex" lang="en">
  <meta name="author" content="The Gregorio project">
  <link rel="shortcut icon" href="../illus/fav.ico">
  <link rel="icon" href="../illus/fav.ico">
  <link rel="stylesheet" href="../style.css" type="text/css" title="default">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script type="text/javascript" src="../gregorio-menu.js"></script>
  <script>
    var context = 'gregorio';
    var title = 'Gregorio project website'
  </script>
</head>

<body>
  <div id="ban">
    <img src="../illus/harpedroite.png" title="" class="hd" alt="" />
    <a id="haut" name="haut"></a>
    <div id="banniere">
    </div>
  </div>
  <script>write_gre_menu();</script>
    <div class="flux">
    &nbsp;
    <!-- IE patch-->
    <div class="text">
      <!-- End of header -->
<!-- header -->
<script>
    context = 'gregorio';
    title = 'gabc Tutorial';
</script>

<style type="text/css">
  .commandblock {font-family: courier; padding-left: 150px;}
  .commandline {font-family: courier;}
</style>
<h1>GABC Tutorial</h1>

<p>The purpose of this tutorial is to demonstrate how to represent a Gregorian chant score in gabc.</p>

<p>Documentation for the gabc notation which we use in this tutorial can be found <a href="../gabc/index.html">here</a>. A <a href="../gabc/summary-gabc.pdf">one-page summary is also on-line</a> (PDF).</p>

<p>In this tutorial we'll be using the <a href="http://apps.illuminarepublications.com/gregorio/">Illuminare Score Editor</a> and all the images will be derived from that tool. However, you could also use the <a href="http://gregorio.gabrielmass.com/cgi/process.pl">Gregorio Chant Engraver</a> if you prefer that.  Obviously the images won't match and some of the specific interface issues are different, but the gabc itself is identical and we are specifically going to focus on that gabc notation.  This makes for a much easier introduction for those not familiar with <span class="tex">T<span class="epsilon">e</span>X</span>.  Once you're comfortable with gabc notation, then you'll find learning how to integrate it into larger projects using <span class="tex">T<span class="epsilon">e</span>X</span> much easier (as is done in our <a href="./tutorials.html">other tutorials</a>).</p>

<h2>Exaudivit</h2>

<p>Here is a score from the <i>Graduale Romanum</i>:</p>

<div class="legende">
<img src="Exaudivit-goal.png"/>
</div>

<p>It's not the simplest score in the world, but it is not overly complicated either and it illustrates several of the most common features of Gregorian chant allowing us to call out how to represent these using gabc as we go.</p>

<p>Obviously the first step is to fire up <a href="http://apps.illuminarepublications.com/gregorio/">Illuminare Score Editor</a>.  When we do so we get a screen that looks like this:</p>

<div class="legende">
<a href="Exaudivit-01.png"><img src="Exaudivit-01.png" alt="Illuminare Score Editor on open.  Click to enlarge..." width=500/></a>
</div>

<p>The top most pane allows us to control certain elements of how the score appears.  We won't be dealing with these in this tutorial.</p>

<p>The bottom most pane shows us a preview of our score.  Illuminare will update this in real time as we work so you'll be able to see exactly how the gabc you're entering translates into a score.</p>

<p>The pane in the middle is where we'll be entering our gabc code and as you can see, it's already got some code in it by default.  Let's start by explaining what's already there line by line:</p>

<dl>
    <dt><code>user-notes: ;</code></dt>
        <dd>This line is an empty header field.  <a href="../gabc/index.html#header">Headers</a> are for describing you score so that when you come back to the file later you can figure out what it is, where it came from, and other things like that.  This particular field is there for you to record any information that you want about the score.  In this case I'm going to make a note that this is part of this tutorial.  That note goes between the colon (<code>:</code>) and the semi-colon (<code>;</code>).</dd>
    <dt><code>commentary: ;</code></dt>
        <dd>This line is also an empty header field, but it's for specific information about the score.  In gabc parlance, the commentary is the text that appears just above the top line of the staff and is flushed right.  This is usually a scripture citation.  Our piece, however, doesn't have this line so we're going to delete this line.</dd>
    <dt><code>annotation: ;</code></dt>
        <dd>Like commentary, annotations refer to a very specific part of the score in gabc parlance.  In this case it's the text which goes above the initial.  Our score has two lines there, and fortunately gabc supports upto two annotation headers.</dd>
    <dt><code>centering-scheme: english;</code></dt>
        <dd>This header is actually a legacy header which is no longer supported in Gregorio.  It formerly controlled how the text of the lyrics aligned with the notes above.  This is now controlled in the TeX of a document, but because Illuminare doesn't give you access to that, it continues to make use of the old header.  In this case our text is in Latin and thus follows the Latin alignment conventions (the center of the vowel aligns with the center of the first note associated with the syllable).</dd>
    <dt><code>%fontsize: 12;</code></dt>
    <dt><code>%spacing: vichi;</code></dt>
    <dt><code>%font: OFLSortsMillGoudy;</code></dt>
    <dt><code>%width: 4.5;</code></dt>
    <dt><code>%height: 11;</code></dt>
        <dd>These headers are not official headers, but rather ones which is specific to Illuminare.  You'll notice that the correspond to the features in the topmost panel and serve to record those settings so that you can duplicate them later should you need to (say for another score which will be part of the same document and thus should look similar to the first score).  The <code>%</code> at the beginning of each line indicates that the line is to be treated as a comment.  That is, Gregorio is to ignore it when parsing the gabc.</dd>
    <dt><code>%%</code></dt>
        <dd>Unlike the single <code>%</code> on the previous lines, this double <code>%%</code> does not instruct Gregorio to ignore this line.  Instead it indicates that we're done with the headers and ready to begin the score itself.</dd>
    <dt><code>(c4)</code></dt>
        <dd>This is the first part of the score and indicates the starting clef.  There are two <a href="../gabc/index.html#clef">clefs</a> in gabc: do (<code>c</code>) and fa (<code>f</code>) and each can be on any of the 4 lines (1 on the bottom, 4 on the top).  This here is a do clef on the 4th line, which is actually what we have in our score, so we'll leave it alone.</dd>
</dl>

<p>Besides these "starter" headers provided by Illuminare, I know other information about this particular score which I'm also going to fill in.  Once I do that I get something that looks like the following:</p>

<div class="legende">
<a href="Exaudivit-02.png"><img src="Exaudivit-02.png" alt="Finished headers.  Click to enlarge..." width=500/></a>
</div>

<p>As you can see, the user notes have been placed as text above the score.  This is what is called "header capture" and is a feature of GregorioTeX that allows you to make use (in a variety of ways) of the information recorded in any of the header fields of your score without having to retype (or even copy/paste) it into the main document.  It is controlled entirely on the TeX side of things, however, so Illuminare is handling this in the background for us and we cannot adjust it in this interface.  The best we could do here is to comment out the <code>user-notes</code> line (<i>i.e.</i>, put a <code>%</code> in front of it) if we wanted to make that line disappear.</p>

<p>You'll also note that even though we put in the <code>annotation</code> headers, the annotations themselves have not shown up in the output.  That's because the annotations appear above the initial.  Since we don't have an initial yet, there is no place for the annotations to appear.  So let's put in the initial, indeed, let's put in the whole first word:</p>

<div class="legende">
<a href="Exaudivit-03.png"><img src="Exaudivit-03.png" alt="First word.  Click to enlarge..." width=500/></a>
</div>

<p>Having done this we can now see another limitation of Illuminare: it can only handle 1 annotation line.  The second line in the gabc is ignored.  We can't force Illuminare to change this behavior, so we're going to have to live with it (at least until you're ready to move on to learning TeX).</p>

<p>So, having put in the first word, it's now time to start adding the notes.  Now, notes are <a href="../gabc/index.html#text">assigned to particular syllables</a> and are marked off from the text of the lyrics by parentheses (<code>()</code>).  Furthermore, each note position (<a href="../gabc/index.html#heights">the pitch of the note</a>) is represented by a particular letter.  Taking both of these into account the first word works out to look like this:</p>

<div class="legende">
<a href="Exaudivit-04.png"><img src="Exaudivit-04.png" alt="Notes for the first word.  Click to enlarge..." width=500/></a>
</div>

<p>If you paid attention while you were typing, you'll have noticed that Illuminare automatically matches parentheses when you type the opening one.  Looking at the output, we can also see that hyphens get inserted automatically when they are needed.  We don't have the exact same hyphens as the original score because of minor variations in spacing and that's something I'm not going to really worry about now.</p>

<p>What I am going to worry about, however, is the fact that a couple of my letters appear to be a bit different from the original.  Looking closely at the original score we can see that the <code>x</code> is capitalized and that there is an accent on the first <code>i</code>.  Before we go any further we should fix these two issues.  Fortunately fixing them is easy.  In the first case we just replace <code>x</code> with <code>X</code> and in the second we replace <code>i</code> with <code>í</code>.  Now, if you keyboard doesn't have a <code>í</code> on it, you could use whatever method your operating system provides for inputing such characters.  Without knowing your OS I can't tell you what that is, but every modern OS has one.  However, Illuminare has provided a shortcut for us.  If we place the cursor to the right of the <code>i</code> and enter <code>'</code> then it will automatically swap out the <code>i'</code> sequence for <code>í</code>.  It's a convenient feature and one that will be used several times as we enter the rest of the score.</p>

<div class="legende">
<a href="Exaudivit-05.png"><img src="Exaudivit-05.png" alt="Revised first word.  Click to enlarge..." width=500/></a>
</div>


<!-- footer -->
    </div>
    <div class="bottom">
    </div>
    <script>initialize_menu();</script>
  </body>
</html>
