<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!--
  Gregorio web site.
  Copyright (C) 2007-2015 The Gregorio project

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
  <title>Gregorio project website</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="description" content="Free software for typesetting Gregorian chant" lang="en">
  <meta name="keywords" content="Gregorian chant, gregorio, gabc, gregoriotex" lang="en">
  <meta name="author" content="The Gregorio project">
  <link rel="shortcut icon" href="../illus/fav.ico">
  <link rel="icon" href="../illus/fav.ico">
  <link rel="stylesheet" href="./style.css" type="text/css" title="default">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script type="text/javascript" src="./gregorio-menu.js"></script>
  <script>
    var context = 'gregorio';
    var title = 'Gregorio project website'
  </script>
</head>

<body>
  <div id="ban">
    <img src="../illus/harpedroite.png" title="" class="hd" alt="" />
    <a id="haut" name="haut"></a>
    <div id="banniere">
    </div>
  </div>
  <script>write_gre_menu();</script>
  <div class="flux">
    &nbsp;
    <!-- IE patch-->
    <div class="text">
      <!-- End of header -->
<!-- header -->

<h1>Configuring <span class="tex">T<span class="epsilon">e</span>X</span>Shop for Gregorio</h1>

<h3>Automatic score compilation</h3>

<p>Gregorio needs a <code>lualatex</code> engine that is able to launch the <code>gregorio</code> program during compilation in order to compile gabc scores automatically (i.e. the engine has to have the <code>--shell-escape</code> option active).  Unfortunately, <span class="tex">T<span class="epsilon">e</span>X</span>Shop does not come with such an engine configured by default.</p>

<p>To make life easier, we've included an engine which is set up correctly, in the contributed add-ons which were installed as part of Gregorio: <code>LuaLaTeX+se.engine</code>.  You can find it in <code>/Users/Shared/Gregorio/contrib/TeXShop</code> if you used the installer or in <code>#/gregorio-git/contrib/TeXShop</code> if you cloned the repository (where <code>#</code> is the directory you cloned the repository to).  Simply copy this file to <code>~/Library/TeXShop/Engines</code> and the engine should show up in the drop down list the next time you start <span class="tex">T<span class="epsilon">e</span>X</span>Shop.</p>

<p><b>Nota Bene:</b> If you have never opened <span class="tex">T<span class="epsilon">e</span>X</span>Shop before then this directory will not exist on your system.  Open and close <span class="tex">T<span class="epsilon">e</span>X</span>Shop and it will create the missing directory (along with all the other configuration directories and files).  You can also reset your configuration to the default by simply deleting all the configuration directory/files and then opening and closing <span class="tex">T<span class="epsilon">e</span>X</span>Shop.</p>

<p>The name <code>LuaLaTeX+se</code> is arbitrary, but it's important to use it, so that everyone can have the same scores.  This will also serve to differentiate it from the normal Lua<span class="latex">L<span class="alpha">a</span>T<span class="epsilon">e</span>X</span> engine where the shell escape option is not active (<span class="tex">T<span class="epsilon">e</span>X</span>Shop comes with this engine in its Inactive folder).</p>

<h3>Ease of use of .gabc files (optional)</h3>

<p>If you want to be able to filter files with <code>.gabc</code> and <code>.gtex</code> extensions in the file dialogs of <span class="tex">T<span class="epsilon">e</span>X</span>Shop, open a Terminal window (it's in <code>Applications/Utilities</code>) and enter the following commands:</p>

<div class="commandline">
<code>defaults write TeXShop OtherTeXExtensions -array-add "gabc"</br>
defaults write TeXShop OtherTeXExtensions -array-add "gtex"</code>
</div>

<p>You can also make it so that the "Trash Aux Files" button removes the intermediate files created by Gregorio with the following Terminal commands:</p>

<div class="commandline">
<code>defaults write TeXShop OtherTrashExtensions -array-add "gaux"</br>
defaults write TeXShop OtherTrashExtensions -array-add "gtex"</code>
</div>

<p><b>Nota bene:</b> Because the <code>gtex</code> files do not share the same name as the root project file, they will not be deleted unless you ask TeXShop to aggressively go after the Aux files.  This can be done by holding down the option button when clicking on "Trash Aux Files" or by setting the hidden preference to always do the aggressive delete:</p>

<div class="commandline">
<code>defaults write TeXShop AggressiveTrashAUX YES</code>
</div>

<h3>Using <span class="tex">T<span class="epsilon">e</span>X</span>Shop</h3>

<p>Once <span class="tex">T<span class="epsilon">e</span>X</span>Shop is ready, refer to <a href="introduction-editor.html">the introduction page</a> to start using Gregorio!</p>

<!-- footer -->
    </div>
    <div class="bottom">
    </div>
   <script>initialize_menu();</script>
  </body>
</html>
